<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // function runAsync() {
        //     var p = new Promise(function(resolve, reject) {
        //         setTimeout(function() {
        //             console.log('执行完成');
        //             resolve('随便什么数据');
        //         }, 2000);
        //     });
        //     return p;
        // }
        // runAsync().then(function(data) {
        //     setTimeout(function() {
        //         console.log(data);
        //     }, 2000);
        //     return "直接返回数据";
        // }).then(function(data) {
        //     console.log(data)
        // });

        // .then .catch的用法
        // function getNumber() {
        //     var p = new Promise(function(resolve, reject) {
        //         setTimeout(function() {
        //             var num = Math.ceil(Math.random() * 10);
        //             if (num <= 5) {
        //                 resolve(num);
        //             } else {
        //                 reject("数字太大");
        //             }
        //         }, 2000)

        //     })
        //     return p;
        // }
        // getNumber()
        //     .then(
        //         function(data) {
        //             console.log(data);
        //             console.log('resolved');
        //             console.log(err)
        //         },
        //         function(err, data) {
        //             console.log('rejected');
        //             console.lo(err)

        //         }
        //     )
        //     .catch(function(err) {
        //         console.log(err);
        //     })
        function a1() {
            var p = new Promise(function(resolve, reject) {
                setTimeout(function() {
                    console.log('a1');
                    resolve('a1');
                }, 1000)
            })
            return p
        }

        function a2() {
            var p = new Promise(function(resolve, reject) {
                setTimeout(function() {
                    console.log('a2');
                    resolve('a2');
                }, 1000)
            })
            return p
        }

        function a3() {
            var p = new Promise(function(resolve, reject) {
                setTimeout(function() {
                    console.log('a3');
                    resolve('a3');
                }, 1000)
            })
            return p
        }
        Promise.all([a2(), a1(), a3()]).then(function(results) {
            console.log(results);
        })
        Promise.race([a2(), a1(), a3()]).then(function(results) {
            console.log(results);
        })
    </script>
</body>

</html>